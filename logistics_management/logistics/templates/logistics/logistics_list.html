{% extends "base.html" %}

{% block title %}View Logistics{% endblock title %}

{% block content %}
<section class="text-gray-600 body-font">
    <div class="container px-5 py-24 mx-auto">
      <div class="flex flex-col text-center w-full mb-20">
        <h1 class="sm:text-4xl text-3xl font-medium title-font mb-2 text-gray-900">Logistics</h1>
        <p class="lg:w-2/3 mx-auto leading-relaxed text-base">You can view all the ongoing operations in this page. For more details click on the details link next to the desired operation.</p>
      </div>
      <div class="lg:w-2/3 w-full mx-auto overflow-auto">
        <div class="flex mb-3 ">
          <a href="{% url 'add_cargo_order' %}" class="flex text-white bg-red-500 border-0 py-1 px-4 focus:outline-none hover:bg-red-600 rounded">Add Order</a>
          <!-- <a class="flex ml-5 text-white bg-yellow-500 border-0 py-1 px-4 focus:outline-none hover:bg-yellow-600 rounded"></a> -->
        </div>
        <table class="table-auto w-full text-left whitespace-no-wrap">
          <thead>
            <tr>
              <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tl rounded-bl">Driver</th>
              <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">License Plate</th>
              <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Load</th>
              <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Status</th>
              <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Start Point</th>
              <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Destination</th>
              <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tr rounded-br"></th>
            </tr>
          </thead>
          <tbody>
            {% for cargo in cargo_list %}  
            <tr>
              <td class="px-4 py-3">{{cargo.truck.driver}}</td>
              <td class="px-4 py-3">{{cargo.truck}}</td>
              <td class="px-4 py-3">{{cargo.load}}.0 tons</td>
              <td class="px-4 py-3 text-yellow-800 font-medium">{{cargo.status}}</td>
              <td class="px-4 py-3 text-md text-gray-900">{{cargo.start_point}}</td>
              <td class="border-gray-200 px-4 py-3 text-md text-gray-900">{{cargo.destination}}</td>
              <td class="border-gray-200 w-10 pr-5 text-center">
                <a href="{% url "logistics_detail" cargo.pk %}" class="text-white bg-yellow-500 hover:bg-yellow-600 font-medium rounded-lg text-sm p-2 text-center inline-flex items-center me-2">
                  Details
                  <svg class="w-4  h-2 ml-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
                  </svg>
                  <span class="sr-only">Icon description</span>
                </a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </section>
{% endblock content %}